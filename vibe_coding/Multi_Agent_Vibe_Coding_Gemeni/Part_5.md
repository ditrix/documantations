Чтобы реализовать мультиагентный подход непосредственно в Cursor, вам не нужно открывать три разных чата. Вы настраиваете **автоматизацию ролей** через файлы инструкций, которые «подсказывают» модели, в каком режиме работать.

Вот конкретный план настройки для разработки «Блога с комментариями».

### **1\. Создание «Центра Управления»**

В корне проекта создайте папку .cursor/rules/ (если её нет). В ней мы разместим «личности» ваших агентов. Cursor автоматически считывает файлы .mdc и применяет их инструкции, когда видит упоминание роли.

### ---

**2\. Конкретные файлы инструкций**

Создайте три файла. Каждый из них — это «прошивка» для модели.

**Файл 1: .cursor/rules/architect.mdc**

Markdown

\---  
description: Применяется, когда нужно спроектировать базу данных или структуру папок  
globs: \["prisma/schema.prisma", "app/Models/**\*\*"\]**  
**\---**  
**\# Роль: Архитектор (Agent A)**  
**Твоя задача — проектировать надежную структуру данных.**  
**1\. При работе с \`schema.prisma\` всегда используй корректные связи (relations).**  
**2\. Для блога: пост должен иметь автора и массив комментариев.**  
**3\. Соблюдай правила именования таблиц в единственном числе.**

**Файл 2: .cursor/rules/coder.mdc**

Markdown

\---  
description: Применяется при создании API-роутов и бизнес-логики  
globs: \["app/api/**\*\*", "lib/\*\***"\]  
\---  
\# Роль: Бэкенд-разработчик (Agent B)  
Твоя задача — писать чистые API эндпоинты.  
1\. Обрабатывай ошибки через try-catch.  
2\. Используй валидацию входных данных (например, Zod).  
3\. Пиши логику добавления комментария в \`app/api/comments/route.ts\`.

**Файл 3: .cursor/rules/ui-specialist.mdc**

Markdown

\---  
description: Применяется при верстке интерфейса  
globs: \["components/**\*\*", "app/pages/\*\***"\]  
\---  
\# Роль: UI/UX Специалист (Agent C)  
Твоя задача — современный дизайн на Tailwind CSS.  
1\. Используй компоненты из Shadcn UI.  
2\. Делай интерфейс адаптивным (mobile-first).  
3\. Вайб: минимализм, много свободного пространства, мягкие тени.

### ---

**3\. Как это запускать (Ваш алгоритм действий)**

1. **Откройте Composer (Ctrl \+ I)**. Это важно, так как обычный чат (Ctrl \+ L) хуже работает с файловой системой.  
2. **Введите «Глобальный промпт»**:"Действуя как **Architect**, создай схему Prisma для блога (посты \+ комментарии). Затем, как **Coder**, создай API для добавления комментариев. В конце, как **UI Specialist**, создай страницу поста с формой комментариев. Используй инструкции из .cursor/rules."  
3. **Наблюдайте за магией**: Cursor начнет создавать файлы по очереди. Он увидит, что вы правите .prisma, и подтянет правила Архитектора. Когда перейдет к API — правила Кодера.

### ---

**4\. Подготовка и развертывание (Команды для терминала)**

Агенты могут написать код, но вам нужно запустить его. В том же Composer вы можете сказать: **«Подготовь проект к запуску»**. Он выдаст (или сам выполнит) следующие шаги:

**Шаг 1: Установка и БД**

Bash

npm install  
npx prisma generate  
npx prisma db push

**Шаг 2: Конфигурация (.env)**

Агент создаст файл, где укажет:

Plaintext

DATABASE\_URL="file:./dev.db"

**Шаг 3: CI/CD (.github/workflows/deploy.yml)**

Для автоматического деплоя на Vercel или другой хостинг:

YAML

name: Vibe Deploy  
on: \[push\]  
jobs:  
  build:  
    runs-on: ubuntu-latest  
    steps:  
      \- uses: actions/checkout@v4  
      \- run: npm ci  
      \- run: npm run build

### ---

**Резюме: почему это лучше 3-х чатов?**

* **Общий контекст:** Все агенты видят правки друг друга в реальном времени.  
* **Автоматизация:** Вам не нужно копипастить код из ChatGPT в IDE.  
* **Контроль:** Вы управляете «вайбом» через .mdc файлы, просто корректируя инструкции, а не повторяя их в каждом новом чате.

**Хотите, я помогу составить первый промпт для Composer, чтобы он сразу развернул структуру папок под этот проект?**